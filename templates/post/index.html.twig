{% extends 'base.html.twig' %}

{% block title %}Tous le posts!{% endblock %}

{% block body %}
    {#    <div id="wrapper">#}

    {#        <div class="overlay"></div>#}

    {#        <!-- Sidebar -->#}
    {#        <nav class="navbar  navbar-inverse fixed-top " style="margin-top: 41px" id="sidebar-wrapper" role="navigation">#}
    {#            <ul class="nav sidebar-nav">#}

    {#            </ul>#}
    {#        </nav>#}

    {#        <!-- Page Content -->#}
    {#        <div id="page-content-wrapper">#}
    {#            <button type="button" class="hamburger animated fadeInLeft is-closed" data-toggle="offcanvas">#}
    {#                <span class="hamb-top"></span>#}
    {#                <span class="hamb-middle"></span>#}
    {#                <span class="hamb-bottom"></span>#}
    {#            </button>#}
    {#            <div class="container">#}
    {#                <div class="row">#}
    {#                    <div > {% for message in app.flashes('error_max<min') %}#}
    {#                            <div class="alert alert-danger">#}
    {#                                {{ message }}#}
    {#                            </div>#}
    {#                        {% endfor %}#}
    {#                        <div class="d-flex justify-content-end mb-3 ">#}
    {#                            {{ knp_pagination_sortable(posts,'Likes','p.nblikes') }}#}
    {#                            {{ knp_pagination_sortable(posts,'Comments','p.nbcomments') }}#}
    {#                        </div>#}
    {#                        <div class="grid">#}
    {#                            {% for post in posts %}#}
    {#                                {% include 'post/card.html.twig' with {post: post} only %}#}
    {#                            {% endfor %}#}
    {#                        </div>#}
    {#                        <div class="p-4">#}
    {#                            {{ knp_pagination_render(posts) }}#}
    {#                        </div>#}
    {#                    </div>#}
    {#                </div>#}
    {#            </div>#}
    {#        </div>#}
    {#        <!-- /#page-content-wrapper -->#}

    {#    </div>#}
    {#    <!-- /#wrapper -->#}


    <div class="container">
        <div class="row">

            <div class="col-8">
                {% for post in posts %}
                    {% include 'post/card.html.twig' with {post: post} only %}
                {% endfor %}

            </div>
            <div class="col-4">
                     {% include 'post/pageFilter.html.twig' with {form: form} only %}

            </div>
        </div>
    </div>
{% endblock %}
{% block stylesheets %}
    <style>
        body {
        {% if type  in '1' %} background: snow;
        {% else  %} background-image: linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0)), url({{ asset('background_images/jr-korpa-4DykvhW8SsI-unsplash.jpg') }});
        {% endif %} background-size: cover;
            background-position: center;
            display: flex;
            padding-top: 50px;
            height: 100%;
            min-height: 100vh;
            font-family: sans-serif;
        }

        hr.style_edit {
            padding-bottom: 1px;
            height: 5px;
            background: silver repeat-x 0 0;
            border: 0;
        }

        .styled {
            font-family: 'Piedra', cursive;
            text-decoration: underline;
            padding-left: 10px;
            margin-left: 20px;
            text-align: justify;

        }

        .title-filter {
            color: rgba(255, 255, 255, 01);
            text-shadow: 0 1px 0 #ccc,
            0 2px 0 #c9c9c9,
            0 3px 0 #bbb,
            0 4px 0 #b9b9b9,
            0 5px 0 #aaa,
            0 6px 1px rgba(0, 0, 0, .1),
            0 0 5px rgba(0, 0, 0, .1),
            0 1px 3px rgba(0, 0, 0, .3),
            0 3px 5px rgba(0, 0, 0, .2),
            0 5px 10px rgba(0, 0, 0, .25),
            0 10px 10px rgba(0, 0, 0, .2),
            0 20px 20px rgba(0, 0, 0, .15);
        }


        .form-group-edit {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 0px;
            border: 0px;
            border-bottom: 1px solid white;
            font-size: 18px;
            color: #f1f2f3;
        }

        .sidebar-nav {
            color: snow;
            padding: 40px;
        }

        .form_edit {
            padding: 20px;
        }

        /*.grid {*/
        /*    display: grid;*/
        /*    grid-template-columns: repeat(1, 1fr);*/
        /*    grid-gap: 40px;*/
        /*}*/

        /*.grid.toggled {*/
        /*    grid-template-columns: repeat(1, 1fr);*/
        /*}*/

        .post {
            background: -webkit-linear-gradient(right, transparent, #fff);
            box-shadow: 0 0 19px rgba(0, 0, 0, 0.1);
            transition: box-shadow 0.3s;
            padding: 20px;
            margin: 20px;
        }

        .card__category {
            position: absolute;
            height: 25px;
            top: -25px;
            left: 0;
            padding: 0 15px;
            text-transform: uppercase;
            background-color: #C82829;
            color: #f1f2f3;

        }

        .card-opacity {
            background: #000;
            height: 450px;
            overflow: hidden;
            transition: height 0.4s;

        }

        .card-opacity img {
            display: block;
            opacity: 1;
            transition: opacity 0.4s, transform 0.3s;
        }

        .post:hover {
            box-shadow: 0px 0px 40px rgba(0, 0, 0, 0.5);

        }

        .post:hover .card-opacity {
            height: 380px;
        }

        .post:hover .card-opacity img {
            opacity: 0.6;
            transform: scale(1.3);

        }

        .post:hover .card__type {
            top: 442px;
        }

        .card__type {
            position: absolute;
            left: 20px;
            top: 512px;
            height: 30px;
            padding: 0 15px;
            color: white;
            font-family: 'Lexend Tera', sans-serif;
            background: #C82829;
            font-size: 15px;
            line-height: 25px;
            text-transform: uppercase;
            transition: top 0.4s;

        }

        .card_description {
            font-size: 16px;
            line-height: 25px;
        }

        .card__title {
            text-shadow: 0px 5px 5px rgba(0, 0, 0, 0.2);

        }



        body,
        html {
            height: 100%;
        }

        .nav .open > a,
        .nav .open > a:hover,
        .nav .open > a:focus {
            background-color: transparent;
        }

        /*-------------------------------*/
        /*           Wrappers            */
        /*-------------------------------*/

        #wrapper {
            padding-left: 0;
            -webkit-transition: all 0.5s ease;
            -moz-transition: all 0.5s ease;
            -o-transition: all 0.5s ease;
            transition: all 0.5s ease;
        }

        #wrapper.toggled {
            padding-left: 400px;
        }

        #sidebar-wrapper {
            z-index: 1000;
            left: 400px !important;
            width: 0;
            height: 100%;
            margin-left: -400px;
            overflow-y: auto;
            overflow-x: hidden;
            background: #1a1a1a;
            -webkit-transition: all 0.5s ease;
            -moz-transition: all 0.5s ease;
            -o-transition: all 0.5s ease;
            transition: all 0.5s ease;
        }

        #sidebar-wrapper::-webkit-scrollbar {
            display: none;
        }

        #wrapper.toggled #sidebar-wrapper {
            width: 400px;
        }

        #page-content-wrapper {
            width: 100%;
            padding-top: 70px;
        }

        #wrapper.toggled #page-content-wrapper {
            position: absolute;
            margin-right: -400px;
        }


    </style>
{% endblock %}
{% block javascripts %}
    <script>
        $(document).ready(function () {
            var trigger = $('.hamburger'),
                overlay = $('.overlay'),
                isClosed = false;

            trigger.click(function () {
                hamburger_cross();
            });

            function hamburger_cross() {

                if (isClosed == true) {
                    overlay.hide();
                    trigger.removeClass('is-open');
                    trigger.addClass('is-closed');
                    isClosed = false;
                } else {
                    overlay.show();
                    trigger.removeClass('is-closed');
                    trigger.addClass('is-open');
                    isClosed = true;
                }
            }

            $('[data-toggle="offcanvas"]').click(function () {
                $('#wrapper').toggleClass('toggled');
                $('.grid').toggleClass('toggled');

            });
        });
    </script>
{% endblock %}

